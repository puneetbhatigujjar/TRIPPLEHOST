<!DOCTYPE html>
<html>
<body>
<h2>Create Ticket</h2>

<input id="subject" placeholder="Subject"><br>
<textarea id="msg" placeholder="Message"></textarea><br>
<button onclick="ticket()">Submit</button>

<script type="module">
import { db, auth } from "./firebase.js";
import { addDoc, collection } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

window.ticket = async () => {
  await addDoc(collection(db,"tickets"),{
    user: auth.currentUser.email,
    subject: subject.value,
    message: msg.value,
    status: "Open",
    time: Date.now()
  });
  alert("Ticket created");
}
</script>
</body>
</html>
